
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../ext-proc-openapi-CHANGELOG/" rel="prev"/>
<link href="../error-mapping/" rel="next"/>
<link href="../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.6.3" name="generator"/>
<title>API Reference - USP Core WAAP documentation</title>
<link href="../assets/stylesheets/main.d7758b05.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../assets/stylesheets/extra.css" rel="stylesheet"/>
<script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#api-reference">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="USP Core WAAP documentation" class="md-header__button md-logo" data-md-component="logo" href=".." title="USP Core WAAP documentation">
<img alt="logo" src="../assets/images/USP-Logo-2023-ohne-claim-lang-white1.webp"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            USP Core WAAP documentation
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              API Reference
            
          </span>
</div>
</div>
</div>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="USP Core WAAP documentation" class="md-nav__button md-logo" data-md-component="logo" href=".." title="USP Core WAAP documentation">
<img alt="logo" src="../assets/images/USP-Logo-2023-ohne-claim-lang-white1.webp"/>
</a>
    USP Core WAAP documentation
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="..">
<span class="md-ellipsis">
    Welcome
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-ellipsis">
    Release Notes
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            Release Notes
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../helm-CHANGELOG/">
<span class="md-ellipsis">
    Helm Chart
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../operator-CHANGELOG/">
<span class="md-ellipsis">
    Operator
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../waap-CHANGELOG/">
<span class="md-ellipsis">
    Core WAAP
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ext-proc-icap-CHANGELOG/">
<span class="md-ellipsis">
    extProc ICAP
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ext-proc-openapi-CHANGELOG/">
<span class="md-ellipsis">
    extProc OpenAPI
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-ellipsis">
    Configuration
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            Configuration
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    API Reference
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../error-mapping/">
<span class="md-ellipsis">
    Error Mapping
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../native-config-post-processing/">
<span class="md-ellipsis">
    Native Config Post-Processing
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
<span class="md-ellipsis">
    Traffic Processing
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_4">
<span class="md-nav__icon md-icon"></span>
            Traffic Processing
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../traffic-processing-overview/">
<span class="md-ellipsis">
    Overview
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../icap-antivirus-scanning/">
<span class="md-ellipsis">
    ICAP Antivirus Scanning
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../openapi-validation/">
<span class="md-ellipsis">
    OpenAPI Validation
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../crs-virtual-patch/">
<span class="md-ellipsis">
    Virtual Patch
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../lua-filters/">
<span class="md-ellipsis">
    Lua Filters
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-ellipsis">
    Operation
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            Operation
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
<span class="md-ellipsis">
    Operator Helm Chart
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_1">
<span class="md-nav__icon md-icon"></span>
            Operator Helm Chart
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../helm/">
<span class="md-ellipsis">
    Usage
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../helm-values/">
<span class="md-ellipsis">
    Values
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../upgrade/">
<span class="md-ellipsis">
    Core WAAP Upgrade
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../logs-metrics/">
<span class="md-ellipsis">
    Logs and Metrics
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../autolearning/">
<span class="md-ellipsis">
    Auto-Learning
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../downloads/">
<span class="md-ellipsis">
    Downloads
    
  </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="api-reference">API Reference</h1>
<p>Packages:</p>
<ul>
<li><a href="#waapcoreu-s-pchv1alpha1">waap.core.u-s-p.ch/v1alpha1</a></li>
</ul>
<h1 id="waapcoreu-s-pchv1alpha1">waap.core.u-s-p.ch/v1alpha1</h1>
<p>Resource Types:</p>
<ul>
<li><a href="#corewaapservice">CoreWaapService</a></li>
</ul>
<h2 id="corewaapservice">CoreWaapService</h2>
<p><sup><sup><a href="#waapcoreu-s-pchv1alpha1">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>apiVersion</b></td>
<td>string</td>
<td>waap.core.u-s-p.ch/v1alpha1</td>
<td>true</td>
</tr>
<tr>
<td><b>kind</b></td>
<td>string</td>
<td>CoreWaapService</td>
<td>true</td>
</tr>
<tr>
<td><b><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.27/#objectmeta-v1-meta">metadata</a></b></td>
<td>object</td>
<td>Refer to the Kubernetes API documentation for the fields of the `metadata` field.</td>
<td>true</td>
</tr><tr>
<td><b><a href="#corewaapservicespec">spec</a></b></td>
<td>object</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicestatus">status</a></b></td>
<td>object</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespec">CoreWaapService.spec</h3>
<p><sup><sup><a href="#corewaapservice">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespecroutesindex">routes</a></b></td>
<td>[]object</td>
<td>
          List of routes to backends (at least one route must be defined) <br/>
</td>
<td>true</td>
</tr><tr>
<td><b><a href="#corewaapservicespecauthenticationsindex">authentications</a></b></td>
<td>[]object</td>
<td>
          List of authentications (OpenID Connect / OAuth 2.0 clients and/or JWT validations)<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespeccrs">crs</a></b></td>
<td>object</td>
<td>
          OWASP Core Rule Set (CRS) settings (version 4.14.0)<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespeccsrfpolicy">csrfPolicy</a></b></td>
<td>object</td>
<td>
          Global CSRF protection (default on). It detects and blocks CSRF attacks based on comparing the request origin (either 'Origin' or 'Referrer' header) with the request target. If the origin does not match the target and is not allowed specifically, the request will be blocked.<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecheaderfiltering">headerFiltering</a></b></td>
<td>object</td>
<td>
          Global header filtering (default is allow standard headers only)<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>hostnames</b></td>
<td>[]string</td>
<td>
          List of hostnames (append ports with ':', default is wildcard '*')<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespeclua">lua</a></b></td>
<td>object</td>
<td>
          Lua filters settings (filter scripts plus helper scripts/files)<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>nativeConfigPostProcessing</b></td>
<td>[]string</td>
<td>
          JavaScripts for post-processing generated Envoy config<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecoperation">operation</a></b></td>
<td>object</td>
<td>
          Operation related settings to be used for the Core WAAP Kubernetes deployment; these settings typically do not affect generated Envoy config (optional, except that the operation's image/version fields must be set in the spec or via default in the operator config) [merge with operator defaults: config trees are merged in detail with precedence given to values in the spec, e.g. resources.limits.cpu could be defined in operator config but resources.requests.cpu in the spec; exception: lists within the config tree are completely overridden by the ones in the spec if present, which affects e.g. tolerations and lists under affinity]<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecoriginblocking">originBlocking</a></b></td>
<td>object</td>
<td>
          Origin blocking<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespectrafficprocessing">trafficProcessing</a></b></td>
<td>object</td>
<td>
          Traffic processing settings (e.g. for ICAP Anti-Virus scanning)<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecwebresources">webResources</a></b></td>
<td>object</td>
<td>
          Resources from a config map to serve as static files and/or to map status codes to error pages with dynamic content<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>websocket</b></td>
<td>boolean</td>
<td>
          Allow websocket <br/>
<br/>
<i>Default</i>: false<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecroutesindex">CoreWaapService.spec.routes[index]</h3>
<p><sup><sup><a href="#corewaapservicespec">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespecroutesindexbackend">backend</a></b></td>
<td>object</td>
<td>
          Backend <br/>
</td>
<td>true</td>
</tr><tr>
<td><b><a href="#corewaapservicespecroutesindexmatch">match</a></b></td>
<td>object</td>
<td>
          Matching criteria <br/>
</td>
<td>true</td>
</tr><tr>
<td><b><a href="#corewaapservicespecroutesindexauth">auth</a></b></td>
<td>object</td>
<td>
          Authentication<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>autoHostRewrite</b></td>
<td>boolean</td>
<td>
          Indicates that during forwarding, the host header will be swapped with the hostname of the upstream host <br/>
<br/>
<i>Default</i>: true<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecroutesindexcrs">crs</a></b></td>
<td>object</td>
<td>
          CRS settings per route<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecroutesindexluarefs">luaRefs</a></b></td>
<td>object</td>
<td>
          References to Lua filters<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>trafficProcessingRefs</b></td>
<td>[]string</td>
<td>
          References to traffic processing; processing order is OpenAPI, ICAP  (and within each type in the order listed under spec.trafficProcessing)<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecroutesindexbackend">CoreWaapService.spec.routes[index].backend</h3>
<p><sup><sup><a href="#corewaapservicespecroutesindex">↩ Parent</a></sup></sup></p>
<p>Backend </p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>address</b></td>
<td>string</td>
<td>
          Backend hostname or IP <br/>
</td>
<td>true</td>
</tr><tr>
<td><b>port</b></td>
<td>integer</td>
<td>
          Backend port number <br/>
<br/>
<i>Minimum</i>: 1<br/>
<i>Maximum</i>: 65535<br/>
</td>
<td>true</td>
</tr><tr>
<td><b><a href="#corewaapservicespecroutesindexbackendprotocol">protocol</a></b></td>
<td>object</td>
<td>
          Protocol<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecroutesindexbackendtls">tls</a></b></td>
<td>object</td>
<td>
          TLS<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecroutesindexbackendprotocol">CoreWaapService.spec.routes[index].backend.protocol</h3>
<p><sup><sup><a href="#corewaapservicespecroutesindexbackend">↩ Parent</a></sup></sup></p>
<p>Protocol</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>selection</b></td>
<td>enum</td>
<td>
          Selection of upstream protocol (h2 uses HTTP/2, h1 uses HTTP/1.1, auto negotiates the protocol using ALPN (requires TLS) with HTTP/2 preferred and HTTP/1.1 as fallback) <br/>
<br/>
<i>Enum</i>: auto, h1, h2<br/>
<i>Default</i>: h2<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecroutesindexbackendtls">CoreWaapService.spec.routes[index].backend.tls</h3>
<p><sup><sup><a href="#corewaapservicespecroutesindexbackend">↩ Parent</a></sup></sup></p>
<p>TLS</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>checkCertificates</b></td>
<td>boolean</td>
<td>
          Check trusted certificates and SAN <br/>
<br/>
<i>Default</i>: true<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>enabled</b></td>
<td>boolean</td>
<td>
          Enable TLS <br/>
<br/>
<i>Default</i>: false<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecroutesindexmatch">CoreWaapService.spec.routes[index].match</h3>
<p><sup><sup><a href="#corewaapservicespecroutesindex">↩ Parent</a></sup></sup></p>
<p>Matching criteria </p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>path</b></td>
<td>string</td>
<td>
          Path (depending on pathType either a regex or a prefix) <br/>
</td>
<td>true</td>
</tr><tr>
<td><b><a href="#corewaapservicespecroutesindexmatchfilters">filters</a></b></td>
<td>object</td>
<td>
          Filters<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecroutesindexmatchheadersindex">headers</a></b></td>
<td>[]object</td>
<td>
          List of header matchers (logical AND between header matchers and with path)<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>pathType</b></td>
<td>enum</td>
<td>
          Path type <br/>
<br/>
<i>Enum</i>: PREFIX, REGEX<br/>
<i>Default</i>: REGEX<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecroutesindexmatchfilters">CoreWaapService.spec.routes[index].match.filters</h3>
<p><sup><sup><a href="#corewaapservicespecroutesindexmatch">↩ Parent</a></sup></sup></p>
<p>Filters</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>allowedMethods</b></td>
<td>[]enum</td>
<td>
          Allowed http methods (all methods allowed if not specified)<br/>
<br/>
<i>Enum</i>: ACL, BIND, CHECKOUT, CONNECT, COPY, DELETE, GET, HEAD, LINK, LOCK, MERGE, MKACTIVITY, MKCALENDAR, MKCOL, MOVE, MSEARCH, NOTIFY, OPTIONS, PATCH, POST, PROPFIND, PROPPATCH, PURGE, PUT, REBIND, REPORT, SEARCH, SOURCE, SUBSCRIBE, TRACE, UNBIND, UNLINK, UNLOCK, UNSUBSCRIBE<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecroutesindexmatchfiltersoriginblocking">originBlocking</a></b></td>
<td>object</td>
<td>
          Origin blocking<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecroutesindexmatchfiltersrewrite">rewrite</a></b></td>
<td>object</td>
<td>
          Rewrite request<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecroutesindexmatchfiltersoriginblocking">CoreWaapService.spec.routes[index].match.filters.originBlocking</h3>
<p><sup><sup><a href="#corewaapservicespecroutesindexmatchfilters">↩ Parent</a></sup></sup></p>
<p>Origin blocking</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>ips</b></td>
<td>[]string</td>
<td>
          Allowed or denied IP addresses (CIDR notation or single IP, e.g. 1.2.3.4/32 or 1.2.3.4) <br/>
</td>
<td>true</td>
</tr><tr>
<td><b>policy</b></td>
<td>enum</td>
<td>
          Policy (ALLOW or DENY access depending on origin) <br/>
<br/>
<i>Enum</i>: ALLOW, DENY<br/>
</td>
<td>true</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecroutesindexmatchfiltersrewrite">CoreWaapService.spec.routes[index].match.filters.rewrite</h3>
<p><sup><sup><a href="#corewaapservicespecroutesindexmatchfilters">↩ Parent</a></sup></sup></p>
<p>Rewrite request</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespecroutesindexmatchfiltersrewriteurl">url</a></b></td>
<td>object</td>
<td>
          URL to set upstream<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecroutesindexmatchfiltersrewriteurl">CoreWaapService.spec.routes[index].match.filters.rewrite.url</h3>
<p><sup><sup><a href="#corewaapservicespecroutesindexmatchfiltersrewrite">↩ Parent</a></sup></sup></p>
<p>URL to set upstream</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>path</b></td>
<td>string</td>
<td>
          Path to rewrite (if regex path can use \1, \2 etc. to replace matched regex groups) <br/>
</td>
<td>true</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecroutesindexmatchheadersindex">CoreWaapService.spec.routes[index].match.headers[index]</h3>
<p><sup><sup><a href="#corewaapservicespecroutesindexmatch">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>name</b></td>
<td>string</td>
<td>
          Request header name <br/>
</td>
<td>true</td>
</tr><tr>
<td><b>value</b></td>
<td>string</td>
<td>
          Request header value (exact match of full string) <br/>
</td>
<td>true</td>
</tr><tr>
<td><b>valueType</b></td>
<td>enum</td>
<td>
          Value type <br/>
<br/>
<i>Enum</i>: EXACT, REGEX<br/>
<i>Default</i>: EXACT<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecroutesindexauth">CoreWaapService.spec.routes[index].auth</h3>
<p><sup><sup><a href="#corewaapservicespecroutesindex">↩ Parent</a></sup></sup></p>
<p>Authentication</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>ref</b></td>
<td>string</td>
<td>
          Reference to name of corresponding authentication setting <br/>
</td>
<td>true</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecroutesindexcrs">CoreWaapService.spec.routes[index].crs</h3>
<p><sup><sup><a href="#corewaapservicespecroutesindex">↩ Parent</a></sup></sup></p>
<p>CRS settings per route</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>disabled</b></td>
<td>boolean</td>
<td>
          Whether to disable all CRS parsing for the route or not <br/>
<br/>
<i>Default</i>: false<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecroutesindexluarefs">CoreWaapService.spec.routes[index].luaRefs</h3>
<p><sup><sup><a href="#corewaapservicespecroutesindex">↩ Parent</a></sup></sup></p>
<p>References to Lua filters</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>first</b></td>
<td>[]string</td>
<td>
          Lua filters to run first, i.e. before other types of filters (more precisely, run first for request and run last for response); Lua filters listed here are run in the order defined under spec.lua<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>last</b></td>
<td>[]string</td>
<td>
          Lua filters to run last, i.e. after other types of filters (more precisely, run last for request and run first for response); Lua filters listed here are run in the order defined under spec.lua<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecauthenticationsindex">CoreWaapService.spec.authentications[index]</h3>
<p><sup><sup><a href="#corewaapservicespec">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespecauthenticationsindexbackend">backend</a></b></td>
<td>object</td>
<td>
          Settings for propagation to backend <br/>
</td>
<td>true</td>
</tr><tr>
<td><b>jwksEndpoint</b></td>
<td>string</td>
<td>
          OIDC JWKS endpoint URL, offers credentials to verify JWTs (normally use https) <br/>
</td>
<td>true</td>
</tr><tr>
<td><b>name</b></td>
<td>string</td>
<td>
          Name to reference in routes <br/>
</td>
<td>true</td>
</tr><tr>
<td><b>audiences</b></td>
<td>[]string</td>
<td>
          List of accepted JWT audiences (if none is specified the JWT is not matched against the audience list)<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>authorizationEndpoint</b></td>
<td>string</td>
<td>
          OIDC OP authorization endpoint URL (omit to mark JWT-only authentication; note that tokenEndpoint and credentials must always also be defined resp. omitted accordingly)<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecauthenticationsindexcredentials">credentials</a></b></td>
<td>object</td>
<td>
          OIDC credentials (client_id and client_secret, omit if only using JWT validation)<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>issuer</b></td>
<td>string</td>
<td>
          OIDC OP issuer (mandatory for OIDC authentication, optional if JWT-only authentication)<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>scopes</b></td>
<td>[]string</td>
<td>
          List of scopes to be claimed in the authorization request<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>tokenEndpoint</b></td>
<td>string</td>
<td>
          OIDC OP token endpoint URL (omit if JWT-only authentication)<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>tokenEndpointAuthType</b></td>
<td>enum</td>
<td>
          How to pass the client_id to the OP (BODY for URL-encoded body parameter, BASIC for basic auth) <br/>
<br/>
<i>Enum</i>: BASIC, BODY<br/>
<i>Default</i>: BODY<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>useRefreshToken</b></td>
<td>boolean</td>
<td>
          Whether to allow automatic access token refresh using the associated refresh token <br/>
<br/>
<i>Default</i>: false<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecauthenticationsindexbackend">CoreWaapService.spec.authentications[index].backend</h3>
<p><sup><sup><a href="#corewaapservicespecauthenticationsindex">↩ Parent</a></sup></sup></p>
<p>Settings for propagation to backend </p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>forwardJwt</b></td>
<td>boolean</td>
<td>
          Whether to forward the JWT to the upstream server <br/>
<br/>
<i>Default</i>: true<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecauthenticationsindexbackendjwtclaimtoheaderindex">jwtClaimToHeader</a></b></td>
<td>[]object</td>
<td>
          Translations of JWT claims to HTTP headers<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecauthenticationsindexbackendjwtclaimtoheaderindex">CoreWaapService.spec.authentications[index].backend.jwtClaimToHeader[index]</h3>
<p><sup><sup><a href="#corewaapservicespecauthenticationsindexbackend">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>claim</b></td>
<td>string</td>
<td>
          Claim to set as header <br/>
</td>
<td>true</td>
</tr><tr>
<td><b>headerName</b></td>
<td>string</td>
<td>
          Name of the header to set to the claim <br/>
</td>
<td>true</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecauthenticationsindexcredentials">CoreWaapService.spec.authentications[index].credentials</h3>
<p><sup><sup><a href="#corewaapservicespecauthenticationsindex">↩ Parent</a></sup></sup></p>
<p>OIDC credentials (client_id and client_secret, omit if only using JWT validation)</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>clientId</b></td>
<td>string</td>
<td>
          OIDC client_id <br/>
</td>
<td>true</td>
</tr><tr>
<td><b>clientSecret</b></td>
<td>string</td>
<td>
          OIDC client_secret by value (either this or clientSecretRef is mandatory)<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>clientSecretRef</b></td>
<td>string</td>
<td>
          OIDC client_secret via reference to Kubernetes secret (recommended, either this or clientSecret is mandatory)<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>hmacSecret</b></td>
<td>string</td>
<td>
          HMAC secret by value (either this or hmacSecretRef is mandatory)<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>hmacSecretRef</b></td>
<td>string</td>
<td>
          HMAC secret via reference to Kubernetes secret (recommended, either this or hmacSecret is mandatory)<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespeccrs">CoreWaapService.spec.crs</h3>
<p><sup><sup><a href="#corewaapservicespec">↩ Parent</a></sup></sup></p>
<p>OWASP Core Rule Set (CRS) settings (version 4.14.0)</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespeccrscustomrequestblockingrulesindex">customRequestBlockingRules</a></b></td>
<td>[]object</td>
<td>
          Custom request blocking rules<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>enabledRequestRules</b></td>
<td>[]enum</td>
<td>
          Set of request rule classes (default is to include all rules, rules REQUEST_901_INITIALIZATION and REQUEST_949_BLOCKING_EVALUATION are always included, see https://github.com/coreruleset/coreruleset/tree/v4.14.0/rules for all configurable values, just replace '-' by '_' and omit '.conf')<br/>
<br/>
<i>Enum</i>: REQUEST_913_SCANNER_DETECTION, REQUEST_920_PROTOCOL_ENFORCEMENT, REQUEST_921_PROTOCOL_ATTACK, REQUEST_922_MULTIPART_ATTACK, REQUEST_930_APPLICATION_ATTACK_LFI, REQUEST_931_APPLICATION_ATTACK_RFI, REQUEST_932_APPLICATION_ATTACK_RCE, REQUEST_933_APPLICATION_ATTACK_PHP, REQUEST_934_APPLICATION_ATTACK_GENERIC, REQUEST_941_APPLICATION_ATTACK_XSS, REQUEST_942_APPLICATION_ATTACK_SQLI, REQUEST_943_APPLICATION_ATTACK_SESSION_FIXATION, REQUEST_944_APPLICATION_ATTACK_JAVA<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>enabledResponseRules</b></td>
<td>[]enum</td>
<td>
          Set of response rule classes (default is to include no rules, rules RESPONSE_959_BLOCKING_EVALUATION and RESPONSE_980_CORRELATION are always included, see https://github.com/coreruleset/coreruleset/tree/v4.14.0/rules for all configurable values, just replace '-' by '_' and omit '.conf')<br/>
<br/>
<i>Enum</i>: RESPONSE_950_DATA_LEAKAGES, RESPONSE_951_DATA_LEAKAGES_SQL, RESPONSE_952_DATA_LEAKAGES_JAVA, RESPONSE_953_DATA_LEAKAGES_PHP, RESPONSE_954_DATA_LEAKAGES_IIS, RESPONSE_955_WEB_SHELLS<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>mode</b></td>
<td>enum</td>
<td>
          Mode (BLOCK = traffic identified as suspicious is blocked; DETECT = traffic identified as suspicious is logged but not blocked; DISABLED = traffic is not inspected) <br/>
<br/>
<i>Enum</i>: BLOCK, DETECT, DISABLED<br/>
<i>Default</i>: BLOCK<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>paranoiaLevel</b></td>
<td>integer</td>
<td>
          Paranoia level (the higher the level the better the protection but also more likely false positives, see OWASP CRS for details) <br/>
<br/>
<i>Default</i>: 1<br/>
<i>Minimum</i>: 1<br/>
<i>Maximum</i>: 4<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>parseJson</b></td>
<td>boolean</td>
<td>
          Whether to apply CRS protection rules for JSON payloads or not <br/>
<br/>
<i>Default</i>: true<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>parseXml</b></td>
<td>boolean</td>
<td>
          Whether to apply CRS protection rules for XML payloads or not <br/>
<br/>
<i>Default</i>: true<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>requestBodyAccess</b></td>
<td>boolean</td>
<td>
          Whether to scan request bodies or not (if this setting is disabled, POST parameters and other content submitted in the request body will not be inspected) <br/>
<br/>
<i>Default</i>: true<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespeccrsrequestbodyaccessexceptionsindex">requestBodyAccessExceptions</a></b></td>
<td>[]object</td>
<td>
          Request body parsing exceptions (locations to exclude from parsing, typically for file uploads)<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>requestBodyLimitKb</b></td>
<td>integer</td>
<td>
          Request body limit in KB, body bytes beyond the limit are not parsed (max 1048576 KB (1 GB)) <br/>
<br/>
<i>Default</i>: 128<br/>
<i>Minimum</i>: 0<br/>
<i>Maximum</i>: 1.048576e+06<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespeccrsrequestruleexceptionsindex">requestRuleExceptions</a></b></td>
<td>[]object</td>
<td>
          Conditionally disable request rules to avoid false positive alerts/blocks<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>responseBodyLimitKb</b></td>
<td>integer</td>
<td>
          Response body limit in KB, body bytes beyond the limit are not parsed <br/>
<br/>
<i>Default</i>: 256<br/>
<i>Minimum</i>: 0<br/>
<i>Maximum</i>: 1.048576e+06<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespeccrsresponseruleexceptionsindex">responseRuleExceptions</a></b></td>
<td>[]object</td>
<td>
          Conditionally disable response rules to avoid false positive alerts/blocks<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>securityLevel</b></td>
<td>integer</td>
<td>
          Defines under which conditions suspicious requests are blocked; only has an effect if the mode is set to BLOCK (security level 5 blocks already if 1 (or more) critical anomalies, 4 if 2, 3 if 3, 2 if 5, 1 if 10) <br/>
<br/>
<i>Default</i>: 5<br/>
<i>Minimum</i>: 1<br/>
<i>Maximum</i>: 5<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>validateJson</b></td>
<td>boolean</td>
<td>
          Special rule which checks the syntax of JSON requests (if the syntax is invalid and the current mode is BLOCK, such requests are blocked) <br/>
<br/>
<i>Default</i>: true<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespeccrscustomrequestblockingrulesindex">CoreWaapService.spec.crs.customRequestBlockingRules[index]</h3>
<p><sup><sup><a href="#corewaapservicespeccrs">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>name</b></td>
<td>string</td>
<td>
          Rule name <br/>
</td>
<td>true</td>
</tr><tr>
<td><b>secLangExpression</b></td>
<td>string</td>
<td>
          SecLang expression. Rule id range must be [300000,399999] <br/>
</td>
<td>true</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespeccrsrequestbodyaccessexceptionsindex">CoreWaapService.spec.crs.requestBodyAccessExceptions[index]</h3>
<p><sup><sup><a href="#corewaapservicespeccrs">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>location</b></td>
<td>string</td>
<td>
          Location for which to skip request body parsing <br/>
</td>
<td>true</td>
</tr><tr>
<td><b>methods</b></td>
<td>[]enum</td>
<td>
          HTTP method(s) for which to skip request body parsing (at least one must be defined) <br/>
<br/>
<i>Enum</i>: ACL, BIND, CHECKOUT, CONNECT, COPY, DELETE, GET, HEAD, LINK, LOCK, MERGE, MKACTIVITY, MKCALENDAR, MKCOL, MOVE, MSEARCH, NOTIFY, OPTIONS, PATCH, POST, PROPFIND, PROPPATCH, PURGE, PUT, REBIND, REPORT, SEARCH, SOURCE, SUBSCRIBE, TRACE, UNBIND, UNLINK, UNLOCK, UNSUBSCRIBE<br/>
</td>
<td>true</td>
</tr><tr>
<td><b>regEx</b></td>
<td>boolean</td>
<td>
          Whether the location is indicated as a regex or not <br/>
<br/>
<i>Default</i>: false<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespeccrsrequestruleexceptionsindex">CoreWaapService.spec.crs.requestRuleExceptions[index]</h3>
<p><sup><sup><a href="#corewaapservicespeccrs">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>location</b></td>
<td>string</td>
<td>
          Location<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespeccrsrequestruleexceptionsindexmetadata">metadata</a></b></td>
<td>object</td>
<td>
          Metadata (no impact on native config)<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>regEx</b></td>
<td>boolean</td>
<td>
          Whether the location is indicated as a regex or not <br/>
<br/>
<i>Default</i>: false<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>requestPartName</b></td>
<td>string</td>
<td>
          Request part name (e.g. 'User-Agent')<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>requestPartType</b></td>
<td>enum</td>
<td>
          Request part type<br/>
<br/>
<i>Enum</i>: ARGS, ARGS_COMBINED_SIZE, ARGS_GET, ARGS_GET_NAMES, ARGS_NAMES, ARGS_POST, ARGS_POST_NAMES, AUTH_TYPE, DURATION, ENV, FILES, FILES_COMBINED_SIZE, FILES_NAMES, FILES_SIZES, FILES_TMPNAMES, FILES_TMP_CONTENT, FULL_REQUEST, FULL_REQUEST_LENGTH, GEO, HIGHEST_SEVERITY, INBOUND_DATA_ERROR, MATCHED_VAR, MATCHED_VARS, MATCHED_VARS_NAMES, MATCHED_VAR_NAME, MODSEC_BUILD, MULTIPART_CRLF_LF_LINES, MULTIPART_FILENAME, MULTIPART_NAME, MULTIPART_PART_HEADERS, MULTIPART_STRICT_ERROR, MULTIPART_UNMATCHED_BOUNDARY, OUTBOUND_DATA_ERROR, PATH_INFO, PERF_COMBINED, PERF_GC, PERF_LOGGING, PERF_PHASE1, PERF_PHASE2, PERF_PHASE3, PERF_PHASE4, PERF_PHASE5, PERF_RULES, PERF_SREAD, PERF_SWRITE, QUERY_STRING, REMOTE_ADDR, REMOTE_HOST, REMOTE_PORT, REMOTE_USER, REQBODY_ERROR, REQBODY_ERROR_MSG, REQBODY_PROCESSOR, REQUEST_BASENAME, REQUEST_BODY, REQUEST_BODY_LENGTH, REQUEST_COOKIES, REQUEST_COOKIES_NAMES, REQUEST_FILENAME, REQUEST_HEADERS, REQUEST_HEADERS_NAMES, REQUEST_LINE, REQUEST_METHOD, REQUEST_PROTOCOL, REQUEST_URI, REQUEST_URI_RAW, RESPONSE_BODY, RESPONSE_CONTENT_LENGTH, RESPONSE_CONTENT_TYPE, RESPONSE_HEADERS, RESPONSE_HEADERS_NAMES, RESPONSE_PROTOCOL, RESPONSE_STATUS, RULE, SCRIPT_BASENAME, SCRIPT_FILENAME, SCRIPT_GID, SCRIPT_GROUPNAME, SCRIPT_MODE, SCRIPT_UID, SCRIPT_USERNAME, SDBM_DELETE_ERROR, SERVER_ADDR, SERVER_NAME, SERVER_PORT, SESSION, SESSIONID, STREAM_INPUT_BODY, STREAM_OUTPUT_BODY, TIME, TIME_DAY, TIME_EPOCH, TIME_HOUR, TIME_MIN, TIME_MON, TIME_SEC, TIME_WDAY, TIME_YEAR, TX, UNIQUE_ID, URLENCODED_ERROR, USERAGENT_IP, USERID, WEBAPPID, WEBSERVER_ERROR_LOG, XML<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>ruleId</b></td>
<td>integer</td>
<td>
          (deprecated, use ruleIds instead) Rule ID<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>ruleIds</b></td>
<td>[]integer</td>
<td>
          A list of Rule IDs (required if ruleId is not specified and must then contain at least one rule ID) <br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespeccrsrequestruleexceptionsindexmetadata">CoreWaapService.spec.crs.requestRuleExceptions[index].metadata</h3>
<p><sup><sup><a href="#corewaapservicespeccrsrequestruleexceptionsindex">↩ Parent</a></sup></sup></p>
<p>Metadata (no impact on native config)</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>comment</b></td>
<td>string</td>
<td>
          Comment why the rule exception was added<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>createdBy</b></td>
<td>string</td>
<td>
          By whom the rule exception was added<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>date</b></td>
<td>string</td>
<td>
          Date when the rule exception was added<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespeccrsresponseruleexceptionsindex">CoreWaapService.spec.crs.responseRuleExceptions[index]</h3>
<p><sup><sup><a href="#corewaapservicespeccrs">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>location</b></td>
<td>string</td>
<td>
          Location<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespeccrsresponseruleexceptionsindexmetadata">metadata</a></b></td>
<td>object</td>
<td>
          Metadata (no impact on native config)<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>regEx</b></td>
<td>boolean</td>
<td>
          Whether the location is indicated as a regex or not <br/>
<br/>
<i>Default</i>: false<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>requestPartName</b></td>
<td>string</td>
<td>
          Request part name (e.g. 'User-Agent')<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>requestPartType</b></td>
<td>enum</td>
<td>
          Request part type<br/>
<br/>
<i>Enum</i>: ARGS, ARGS_COMBINED_SIZE, ARGS_GET, ARGS_GET_NAMES, ARGS_NAMES, ARGS_POST, ARGS_POST_NAMES, AUTH_TYPE, DURATION, ENV, FILES, FILES_COMBINED_SIZE, FILES_NAMES, FILES_SIZES, FILES_TMPNAMES, FILES_TMP_CONTENT, FULL_REQUEST, FULL_REQUEST_LENGTH, GEO, HIGHEST_SEVERITY, INBOUND_DATA_ERROR, MATCHED_VAR, MATCHED_VARS, MATCHED_VARS_NAMES, MATCHED_VAR_NAME, MODSEC_BUILD, MULTIPART_CRLF_LF_LINES, MULTIPART_FILENAME, MULTIPART_NAME, MULTIPART_PART_HEADERS, MULTIPART_STRICT_ERROR, MULTIPART_UNMATCHED_BOUNDARY, OUTBOUND_DATA_ERROR, PATH_INFO, PERF_COMBINED, PERF_GC, PERF_LOGGING, PERF_PHASE1, PERF_PHASE2, PERF_PHASE3, PERF_PHASE4, PERF_PHASE5, PERF_RULES, PERF_SREAD, PERF_SWRITE, QUERY_STRING, REMOTE_ADDR, REMOTE_HOST, REMOTE_PORT, REMOTE_USER, REQBODY_ERROR, REQBODY_ERROR_MSG, REQBODY_PROCESSOR, REQUEST_BASENAME, REQUEST_BODY, REQUEST_BODY_LENGTH, REQUEST_COOKIES, REQUEST_COOKIES_NAMES, REQUEST_FILENAME, REQUEST_HEADERS, REQUEST_HEADERS_NAMES, REQUEST_LINE, REQUEST_METHOD, REQUEST_PROTOCOL, REQUEST_URI, REQUEST_URI_RAW, RESPONSE_BODY, RESPONSE_CONTENT_LENGTH, RESPONSE_CONTENT_TYPE, RESPONSE_HEADERS, RESPONSE_HEADERS_NAMES, RESPONSE_PROTOCOL, RESPONSE_STATUS, RULE, SCRIPT_BASENAME, SCRIPT_FILENAME, SCRIPT_GID, SCRIPT_GROUPNAME, SCRIPT_MODE, SCRIPT_UID, SCRIPT_USERNAME, SDBM_DELETE_ERROR, SERVER_ADDR, SERVER_NAME, SERVER_PORT, SESSION, SESSIONID, STREAM_INPUT_BODY, STREAM_OUTPUT_BODY, TIME, TIME_DAY, TIME_EPOCH, TIME_HOUR, TIME_MIN, TIME_MON, TIME_SEC, TIME_WDAY, TIME_YEAR, TX, UNIQUE_ID, URLENCODED_ERROR, USERAGENT_IP, USERID, WEBAPPID, WEBSERVER_ERROR_LOG, XML<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>ruleId</b></td>
<td>integer</td>
<td>
          (deprecated, use ruleIds instead) Rule ID<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>ruleIds</b></td>
<td>[]integer</td>
<td>
          A list of Rule IDs (required if ruleId is not specified and must then contain at least one rule ID) <br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespeccrsresponseruleexceptionsindexmetadata">CoreWaapService.spec.crs.responseRuleExceptions[index].metadata</h3>
<p><sup><sup><a href="#corewaapservicespeccrsresponseruleexceptionsindex">↩ Parent</a></sup></sup></p>
<p>Metadata (no impact on native config)</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>comment</b></td>
<td>string</td>
<td>
          Comment why the rule exception was added<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>createdBy</b></td>
<td>string</td>
<td>
          By whom the rule exception was added<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>date</b></td>
<td>string</td>
<td>
          Date when the rule exception was added<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespeccsrfpolicy">CoreWaapService.spec.csrfPolicy</h3>
<p><sup><sup><a href="#corewaapservicespec">↩ Parent</a></sup></sup></p>
<p>Global CSRF protection (default on). It detects and blocks CSRF attacks based on comparing the request origin (either 'Origin' or 'Referrer' header) with the request target. If the origin does not match the target and is not allowed specifically, the request will be blocked.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>additionalOrigins</b></td>
<td>[]string</td>
<td>
          Additional allowed origin values, specified as '{hostname}[:{port}]' (no scheme!); must correspond to the request target.<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>enabled</b></td>
<td>boolean</td>
<td>
          Whether CSRF protection is enabled or not <br/>
<br/>
<i>Default</i>: true<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecheaderfiltering">CoreWaapService.spec.headerFiltering</h3>
<p><sup><sup><a href="#corewaapservicespec">↩ Parent</a></sup></sup></p>
<p>Global header filtering (default is allow standard headers only)</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>logOnly</b></td>
<td>boolean</td>
<td>
          Whether header filtering should only log potentially blocked headers <br/>
<br/>
<i>Default</i>: false<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecheaderfilteringrequest">request</a></b></td>
<td>object</td>
<td>
          Request header filtering<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecheaderfilteringresponse">response</a></b></td>
<td>object</td>
<td>
          Response header filtering<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecheaderfilteringrequest">CoreWaapService.spec.headerFiltering.request</h3>
<p><sup><sup><a href="#corewaapservicespecheaderfiltering">↩ Parent</a></sup></sup></p>
<p>Request header filtering</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>allow</b></td>
<td>[]string</td>
<td>
          List of allowed header names in addition to ones in allowClass<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>allowClass</b></td>
<td>enum</td>
<td>
          A common preset of allowed headers. Values: MINIMAL, STANDARD, RESTRICTED <br/>
<br/>
<i>Enum</i>: MINIMAL, RESTRICTED, STANDARD<br/>
<i>Default</i>: STANDARD<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecheaderfilteringrequestdenyindex">deny</a></b></td>
<td>[]object</td>
<td>
          List of denied header names; applied after allowClass &amp; allow<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>enabled</b></td>
<td>boolean</td>
<td>
          Whether request header filtering is enabled or not <br/>
<br/>
<i>Default</i>: true<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecheaderfilteringrequestdenyindex">CoreWaapService.spec.headerFiltering.request.deny[index]</h3>
<p><sup><sup><a href="#corewaapservicespecheaderfilteringrequest">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>name</b></td>
<td>string</td>
<td>
          Denied header name; '*' could be used in conjunction with non-blank valuePattern to match all header names<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>valuePattern</b></td>
<td>string</td>
<td>
          Lua pattern for denied header value (see https://www.lua.org/pil/20.2.html)<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecheaderfilteringresponse">CoreWaapService.spec.headerFiltering.response</h3>
<p><sup><sup><a href="#corewaapservicespecheaderfiltering">↩ Parent</a></sup></sup></p>
<p>Response header filtering</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>allow</b></td>
<td>[]string</td>
<td>
          List of allowed header names<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>deny</b></td>
<td>[]string</td>
<td>
          List of denied header names; applied after allow<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>enabled</b></td>
<td>boolean</td>
<td>
          Whether response header filtering is enabled or not <br/>
<br/>
<i>Default</i>: true<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespeclua">CoreWaapService.spec.lua</h3>
<p><sup><sup><a href="#corewaapservicespec">↩ Parent</a></sup></sup></p>
<p>Lua filters settings (filter scripts plus helper scripts/files)</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>configMap</b></td>
<td>string</td>
<td>
          Name of the config map that contains the Lua filter scripts and helper files (must be defined if any Lua filters or helper files are defined)<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecluafiltersindex">filters</a></b></td>
<td>[]object</td>
<td>
          Lua filter scripts; will be run in the order listed here if referenced in routes <br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecluahelpersindex">helpers</a></b></td>
<td>[]object</td>
<td>
          Helper files that will be mounted in parallel to the Lua filter scripts; usually Lua utility scripts, but can be any file type <br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecluafiltersindex">CoreWaapService.spec.lua.filters[index]</h3>
<p><sup><sup><a href="#corewaapservicespeclua">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>name</b></td>
<td>string</td>
<td>
          Script name used both to reference in routes and as mounted filename and also the key in the 'spec.lua.configMap', must end with '.lua' <br/>
</td>
<td>true</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecluahelpersindex">CoreWaapService.spec.lua.helpers[index]</h3>
<p><sup><sup><a href="#corewaapservicespeclua">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>name</b></td>
<td>string</td>
<td>
          Name of file to mount in parallel to Lua filter scripts and also the key in the 'spec.lua.configMap' <br/>
</td>
<td>true</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperation">CoreWaapService.spec.operation</h3>
<p><sup><sup><a href="#corewaapservicespec">↩ Parent</a></sup></sup></p>
<p>Operation related settings to be used for the Core WAAP Kubernetes deployment; these settings typically do not affect generated Envoy config (optional, except that the operation's image/version fields must be set in the spec or via default in the operator config) [merge with operator defaults: config trees are merged in detail with precedence given to values in the spec, e.g. resources.limits.cpu could be defined in operator config but resources.requests.cpu in the spec; exception: lists within the config tree are completely overridden by the ones in the spec if present, which affects e.g. tolerations and lists under affinity]</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespecoperationadmininterfaceservice">adminInterfaceService</a></b></td>
<td>object</td>
<td>
          Settings for exposing the Envoy admin interface as a Kubernetes service<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecoperationaffinity">affinity</a></b></td>
<td>object</td>
<td>
          Kubernetes affinity for the Core Waap pod<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>bufferLimitBytes</b></td>
<td>integer</td>
<td>
          Maximal body size for processing requests and responses (Envoy's perConnectionBufferLimitBytes on listener, plus also affects buffers for traffic processing in transferMode BUFFERED)<br/>
<br/>
<i>Default</i>: 1048576<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecoperationcacertificates">caCertificates</a></b></td>
<td>object</td>
<td>
          CA Certificates for the pod, mounted at /etc/ssl/certs/ca-certificates.crt (default is to use the file from container)<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>image</b></td>
<td>string</td>
<td>
          Core WAAP container image (host+path+name) without version, e.g. 'uspregistry.azurecr.io/usp/core/waap/usp-core-waap' (must be defined either in spec or operator defaults) (DEPRECATED: for backwards compatibility, it is currently still allowed to append a version with ':' and omit a separate version field, but this is deprecated and existing config should be migrated)<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>labels</b></td>
<td>map[string]string</td>
<td>
          Map of key/value labels for the pod<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecoperationmetrics">metrics</a></b></td>
<td>object</td>
<td>
          Settings for exposing Metrics endpoint as a Kubernetes service<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>port</b></td>
<td>integer</td>
<td>
          Port of the Kubernetes service and Envoy listener in the Core WAAP container <br/>
<br/>
<i>Default</i>: 8080<br/>
<i>Minimum</i>: 1<br/>
<i>Maximum</i>: 65535<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>priorityClassName</b></td>
<td>string</td>
<td>
          Kubernetes priorityClassName for the Core Waap pod<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>replicas</b></td>
<td>integer</td>
<td>
          Number of replicas (default is not managed by operator) <br/>
<br/>
<i>Minimum</i>: 1<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecoperationresources">resources</a></b></td>
<td>object</td>
<td>
          Kubernetes resources for the Core Waap pod<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecoperationserviceaccount">serviceAccount</a></b></td>
<td>object</td>
<td>
          Service account<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>serviceAnnotations</b></td>
<td>map[string]string</td>
<td>
          Map of key/value annotations for the service<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecoperationstartup">startup</a></b></td>
<td>object</td>
<td>
          Settings for Envoy startup (mostly command line options, see https://www.envoyproxy.io/docs/envoy/latest/operations/cli)<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecoperationtolerationsindex">tolerations</a></b></td>
<td>[]object</td>
<td>
          Kubernetes tolerations for the Core Waap pod<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>version</b></td>
<td>string</td>
<td>
          Core WAAP container (image) version, e.g. '1.1.5' (must be defined either in spec or operator defaults)<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationadmininterfaceservice">CoreWaapService.spec.operation.adminInterfaceService</h3>
<p><sup><sup><a href="#corewaapservicespecoperation">↩ Parent</a></sup></sup></p>
<p>Settings for exposing the Envoy admin interface as a Kubernetes service</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>enabled</b></td>
<td>boolean</td>
<td>
          Whether the Envoy admin interface should be exposed as Kubernetes service <br/>
<br/>
<i>Default</i>: false<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>port</b></td>
<td>integer</td>
<td>
          Port of the Kubernetes service (if enabled) and Envoy admin interface listener in the Core WAAP container <br/>
<br/>
<i>Default</i>: 9901<br/>
<i>Minimum</i>: 1<br/>
<i>Maximum</i>: 65535<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinity">CoreWaapService.spec.operation.affinity</h3>
<p><sup><sup><a href="#corewaapservicespecoperation">↩ Parent</a></sup></sup></p>
<p>Kubernetes affinity for the Core Waap pod</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespecoperationaffinitynodeaffinity">nodeAffinity</a></b></td>
<td>object</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecoperationaffinitypodaffinity">podAffinity</a></b></td>
<td>object</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecoperationaffinitypodantiaffinity">podAntiAffinity</a></b></td>
<td>object</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitynodeaffinity">CoreWaapService.spec.operation.affinity.nodeAffinity</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinity">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespecoperationaffinitynodeaffinitypreferredduringschedulingignoredduringexecutionindex">preferredDuringSchedulingIgnoredDuringExecution</a></b></td>
<td>[]object</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecoperationaffinitynodeaffinityrequiredduringschedulingignoredduringexecution">requiredDuringSchedulingIgnoredDuringExecution</a></b></td>
<td>object</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitynodeaffinitypreferredduringschedulingignoredduringexecutionindex">CoreWaapService.spec.operation.affinity.nodeAffinity.preferredDuringSchedulingIgnoredDuringExecution[index]</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinitynodeaffinity">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespecoperationaffinitynodeaffinitypreferredduringschedulingignoredduringexecutionindexpreference">preference</a></b></td>
<td>object</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>weight</b></td>
<td>integer</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitynodeaffinitypreferredduringschedulingignoredduringexecutionindexpreference">CoreWaapService.spec.operation.affinity.nodeAffinity.preferredDuringSchedulingIgnoredDuringExecution[index].preference</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinitynodeaffinitypreferredduringschedulingignoredduringexecutionindex">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespecoperationaffinitynodeaffinitypreferredduringschedulingignoredduringexecutionindexpreferencematchexpressionsindex">matchExpressions</a></b></td>
<td>[]object</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecoperationaffinitynodeaffinitypreferredduringschedulingignoredduringexecutionindexpreferencematchfieldsindex">matchFields</a></b></td>
<td>[]object</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitynodeaffinitypreferredduringschedulingignoredduringexecutionindexpreferencematchexpressionsindex">CoreWaapService.spec.operation.affinity.nodeAffinity.preferredDuringSchedulingIgnoredDuringExecution[index].preference.matchExpressions[index]</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinitynodeaffinitypreferredduringschedulingignoredduringexecutionindexpreference">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>key</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>operator</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>values</b></td>
<td>[]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitynodeaffinitypreferredduringschedulingignoredduringexecutionindexpreferencematchfieldsindex">CoreWaapService.spec.operation.affinity.nodeAffinity.preferredDuringSchedulingIgnoredDuringExecution[index].preference.matchFields[index]</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinitynodeaffinitypreferredduringschedulingignoredduringexecutionindexpreference">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>key</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>operator</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>values</b></td>
<td>[]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitynodeaffinityrequiredduringschedulingignoredduringexecution">CoreWaapService.spec.operation.affinity.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinitynodeaffinity">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespecoperationaffinitynodeaffinityrequiredduringschedulingignoredduringexecutionnodeselectortermsindex">nodeSelectorTerms</a></b></td>
<td>[]object</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitynodeaffinityrequiredduringschedulingignoredduringexecutionnodeselectortermsindex">CoreWaapService.spec.operation.affinity.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms[index]</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinitynodeaffinityrequiredduringschedulingignoredduringexecution">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespecoperationaffinitynodeaffinityrequiredduringschedulingignoredduringexecutionnodeselectortermsindexmatchexpressionsindex">matchExpressions</a></b></td>
<td>[]object</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecoperationaffinitynodeaffinityrequiredduringschedulingignoredduringexecutionnodeselectortermsindexmatchfieldsindex">matchFields</a></b></td>
<td>[]object</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitynodeaffinityrequiredduringschedulingignoredduringexecutionnodeselectortermsindexmatchexpressionsindex">CoreWaapService.spec.operation.affinity.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms[index].matchExpressions[index]</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinitynodeaffinityrequiredduringschedulingignoredduringexecutionnodeselectortermsindex">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>key</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>operator</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>values</b></td>
<td>[]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitynodeaffinityrequiredduringschedulingignoredduringexecutionnodeselectortermsindexmatchfieldsindex">CoreWaapService.spec.operation.affinity.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms[index].matchFields[index]</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinitynodeaffinityrequiredduringschedulingignoredduringexecutionnodeselectortermsindex">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>key</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>operator</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>values</b></td>
<td>[]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitypodaffinity">CoreWaapService.spec.operation.affinity.podAffinity</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinity">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespecoperationaffinitypodaffinitypreferredduringschedulingignoredduringexecutionindex">preferredDuringSchedulingIgnoredDuringExecution</a></b></td>
<td>[]object</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecoperationaffinitypodaffinityrequiredduringschedulingignoredduringexecutionindex">requiredDuringSchedulingIgnoredDuringExecution</a></b></td>
<td>[]object</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitypodaffinitypreferredduringschedulingignoredduringexecutionindex">CoreWaapService.spec.operation.affinity.podAffinity.preferredDuringSchedulingIgnoredDuringExecution[index]</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinitypodaffinity">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespecoperationaffinitypodaffinitypreferredduringschedulingignoredduringexecutionindexpodaffinityterm">podAffinityTerm</a></b></td>
<td>object</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>weight</b></td>
<td>integer</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitypodaffinitypreferredduringschedulingignoredduringexecutionindexpodaffinityterm">CoreWaapService.spec.operation.affinity.podAffinity.preferredDuringSchedulingIgnoredDuringExecution[index].podAffinityTerm</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinitypodaffinitypreferredduringschedulingignoredduringexecutionindex">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespecoperationaffinitypodaffinitypreferredduringschedulingignoredduringexecutionindexpodaffinitytermlabelselector">labelSelector</a></b></td>
<td>object</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>matchLabelKeys</b></td>
<td>[]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>mismatchLabelKeys</b></td>
<td>[]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecoperationaffinitypodaffinitypreferredduringschedulingignoredduringexecutionindexpodaffinitytermnamespaceselector">namespaceSelector</a></b></td>
<td>object</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>namespaces</b></td>
<td>[]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>topologyKey</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitypodaffinitypreferredduringschedulingignoredduringexecutionindexpodaffinitytermlabelselector">CoreWaapService.spec.operation.affinity.podAffinity.preferredDuringSchedulingIgnoredDuringExecution[index].podAffinityTerm.labelSelector</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinitypodaffinitypreferredduringschedulingignoredduringexecutionindexpodaffinityterm">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespecoperationaffinitypodaffinitypreferredduringschedulingignoredduringexecutionindexpodaffinitytermlabelselectormatchexpressionsindex">matchExpressions</a></b></td>
<td>[]object</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>matchLabels</b></td>
<td>map[string]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitypodaffinitypreferredduringschedulingignoredduringexecutionindexpodaffinitytermlabelselectormatchexpressionsindex">CoreWaapService.spec.operation.affinity.podAffinity.preferredDuringSchedulingIgnoredDuringExecution[index].podAffinityTerm.labelSelector.matchExpressions[index]</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinitypodaffinitypreferredduringschedulingignoredduringexecutionindexpodaffinitytermlabelselector">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>key</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>operator</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>values</b></td>
<td>[]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitypodaffinitypreferredduringschedulingignoredduringexecutionindexpodaffinitytermnamespaceselector">CoreWaapService.spec.operation.affinity.podAffinity.preferredDuringSchedulingIgnoredDuringExecution[index].podAffinityTerm.namespaceSelector</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinitypodaffinitypreferredduringschedulingignoredduringexecutionindexpodaffinityterm">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespecoperationaffinitypodaffinitypreferredduringschedulingignoredduringexecutionindexpodaffinitytermnamespaceselectormatchexpressionsindex">matchExpressions</a></b></td>
<td>[]object</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>matchLabels</b></td>
<td>map[string]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitypodaffinitypreferredduringschedulingignoredduringexecutionindexpodaffinitytermnamespaceselectormatchexpressionsindex">CoreWaapService.spec.operation.affinity.podAffinity.preferredDuringSchedulingIgnoredDuringExecution[index].podAffinityTerm.namespaceSelector.matchExpressions[index]</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinitypodaffinitypreferredduringschedulingignoredduringexecutionindexpodaffinitytermnamespaceselector">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>key</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>operator</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>values</b></td>
<td>[]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitypodaffinityrequiredduringschedulingignoredduringexecutionindex">CoreWaapService.spec.operation.affinity.podAffinity.requiredDuringSchedulingIgnoredDuringExecution[index]</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinitypodaffinity">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespecoperationaffinitypodaffinityrequiredduringschedulingignoredduringexecutionindexlabelselector">labelSelector</a></b></td>
<td>object</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>matchLabelKeys</b></td>
<td>[]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>mismatchLabelKeys</b></td>
<td>[]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecoperationaffinitypodaffinityrequiredduringschedulingignoredduringexecutionindexnamespaceselector">namespaceSelector</a></b></td>
<td>object</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>namespaces</b></td>
<td>[]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>topologyKey</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitypodaffinityrequiredduringschedulingignoredduringexecutionindexlabelselector">CoreWaapService.spec.operation.affinity.podAffinity.requiredDuringSchedulingIgnoredDuringExecution[index].labelSelector</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinitypodaffinityrequiredduringschedulingignoredduringexecutionindex">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespecoperationaffinitypodaffinityrequiredduringschedulingignoredduringexecutionindexlabelselectormatchexpressionsindex">matchExpressions</a></b></td>
<td>[]object</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>matchLabels</b></td>
<td>map[string]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitypodaffinityrequiredduringschedulingignoredduringexecutionindexlabelselectormatchexpressionsindex">CoreWaapService.spec.operation.affinity.podAffinity.requiredDuringSchedulingIgnoredDuringExecution[index].labelSelector.matchExpressions[index]</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinitypodaffinityrequiredduringschedulingignoredduringexecutionindexlabelselector">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>key</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>operator</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>values</b></td>
<td>[]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitypodaffinityrequiredduringschedulingignoredduringexecutionindexnamespaceselector">CoreWaapService.spec.operation.affinity.podAffinity.requiredDuringSchedulingIgnoredDuringExecution[index].namespaceSelector</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinitypodaffinityrequiredduringschedulingignoredduringexecutionindex">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespecoperationaffinitypodaffinityrequiredduringschedulingignoredduringexecutionindexnamespaceselectormatchexpressionsindex">matchExpressions</a></b></td>
<td>[]object</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>matchLabels</b></td>
<td>map[string]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitypodaffinityrequiredduringschedulingignoredduringexecutionindexnamespaceselectormatchexpressionsindex">CoreWaapService.spec.operation.affinity.podAffinity.requiredDuringSchedulingIgnoredDuringExecution[index].namespaceSelector.matchExpressions[index]</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinitypodaffinityrequiredduringschedulingignoredduringexecutionindexnamespaceselector">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>key</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>operator</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>values</b></td>
<td>[]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitypodantiaffinity">CoreWaapService.spec.operation.affinity.podAntiAffinity</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinity">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespecoperationaffinitypodantiaffinitypreferredduringschedulingignoredduringexecutionindex">preferredDuringSchedulingIgnoredDuringExecution</a></b></td>
<td>[]object</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecoperationaffinitypodantiaffinityrequiredduringschedulingignoredduringexecutionindex">requiredDuringSchedulingIgnoredDuringExecution</a></b></td>
<td>[]object</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitypodantiaffinitypreferredduringschedulingignoredduringexecutionindex">CoreWaapService.spec.operation.affinity.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[index]</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinitypodantiaffinity">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespecoperationaffinitypodantiaffinitypreferredduringschedulingignoredduringexecutionindexpodaffinityterm">podAffinityTerm</a></b></td>
<td>object</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>weight</b></td>
<td>integer</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitypodantiaffinitypreferredduringschedulingignoredduringexecutionindexpodaffinityterm">CoreWaapService.spec.operation.affinity.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[index].podAffinityTerm</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinitypodantiaffinitypreferredduringschedulingignoredduringexecutionindex">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespecoperationaffinitypodantiaffinitypreferredduringschedulingignoredduringexecutionindexpodaffinitytermlabelselector">labelSelector</a></b></td>
<td>object</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>matchLabelKeys</b></td>
<td>[]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>mismatchLabelKeys</b></td>
<td>[]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecoperationaffinitypodantiaffinitypreferredduringschedulingignoredduringexecutionindexpodaffinitytermnamespaceselector">namespaceSelector</a></b></td>
<td>object</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>namespaces</b></td>
<td>[]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>topologyKey</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitypodantiaffinitypreferredduringschedulingignoredduringexecutionindexpodaffinitytermlabelselector">CoreWaapService.spec.operation.affinity.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[index].podAffinityTerm.labelSelector</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinitypodantiaffinitypreferredduringschedulingignoredduringexecutionindexpodaffinityterm">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespecoperationaffinitypodantiaffinitypreferredduringschedulingignoredduringexecutionindexpodaffinitytermlabelselectormatchexpressionsindex">matchExpressions</a></b></td>
<td>[]object</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>matchLabels</b></td>
<td>map[string]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitypodantiaffinitypreferredduringschedulingignoredduringexecutionindexpodaffinitytermlabelselectormatchexpressionsindex">CoreWaapService.spec.operation.affinity.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[index].podAffinityTerm.labelSelector.matchExpressions[index]</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinitypodantiaffinitypreferredduringschedulingignoredduringexecutionindexpodaffinitytermlabelselector">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>key</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>operator</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>values</b></td>
<td>[]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitypodantiaffinitypreferredduringschedulingignoredduringexecutionindexpodaffinitytermnamespaceselector">CoreWaapService.spec.operation.affinity.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[index].podAffinityTerm.namespaceSelector</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinitypodantiaffinitypreferredduringschedulingignoredduringexecutionindexpodaffinityterm">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespecoperationaffinitypodantiaffinitypreferredduringschedulingignoredduringexecutionindexpodaffinitytermnamespaceselectormatchexpressionsindex">matchExpressions</a></b></td>
<td>[]object</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>matchLabels</b></td>
<td>map[string]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitypodantiaffinitypreferredduringschedulingignoredduringexecutionindexpodaffinitytermnamespaceselectormatchexpressionsindex">CoreWaapService.spec.operation.affinity.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[index].podAffinityTerm.namespaceSelector.matchExpressions[index]</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinitypodantiaffinitypreferredduringschedulingignoredduringexecutionindexpodaffinitytermnamespaceselector">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>key</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>operator</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>values</b></td>
<td>[]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitypodantiaffinityrequiredduringschedulingignoredduringexecutionindex">CoreWaapService.spec.operation.affinity.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[index]</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinitypodantiaffinity">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespecoperationaffinitypodantiaffinityrequiredduringschedulingignoredduringexecutionindexlabelselector">labelSelector</a></b></td>
<td>object</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>matchLabelKeys</b></td>
<td>[]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>mismatchLabelKeys</b></td>
<td>[]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecoperationaffinitypodantiaffinityrequiredduringschedulingignoredduringexecutionindexnamespaceselector">namespaceSelector</a></b></td>
<td>object</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>namespaces</b></td>
<td>[]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>topologyKey</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitypodantiaffinityrequiredduringschedulingignoredduringexecutionindexlabelselector">CoreWaapService.spec.operation.affinity.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[index].labelSelector</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinitypodantiaffinityrequiredduringschedulingignoredduringexecutionindex">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespecoperationaffinitypodantiaffinityrequiredduringschedulingignoredduringexecutionindexlabelselectormatchexpressionsindex">matchExpressions</a></b></td>
<td>[]object</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>matchLabels</b></td>
<td>map[string]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitypodantiaffinityrequiredduringschedulingignoredduringexecutionindexlabelselectormatchexpressionsindex">CoreWaapService.spec.operation.affinity.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[index].labelSelector.matchExpressions[index]</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinitypodantiaffinityrequiredduringschedulingignoredduringexecutionindexlabelselector">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>key</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>operator</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>values</b></td>
<td>[]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitypodantiaffinityrequiredduringschedulingignoredduringexecutionindexnamespaceselector">CoreWaapService.spec.operation.affinity.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[index].namespaceSelector</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinitypodantiaffinityrequiredduringschedulingignoredduringexecutionindex">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespecoperationaffinitypodantiaffinityrequiredduringschedulingignoredduringexecutionindexnamespaceselectormatchexpressionsindex">matchExpressions</a></b></td>
<td>[]object</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>matchLabels</b></td>
<td>map[string]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationaffinitypodantiaffinityrequiredduringschedulingignoredduringexecutionindexnamespaceselectormatchexpressionsindex">CoreWaapService.spec.operation.affinity.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[index].namespaceSelector.matchExpressions[index]</h3>
<p><sup><sup><a href="#corewaapservicespecoperationaffinitypodantiaffinityrequiredduringschedulingignoredduringexecutionindexnamespaceselector">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>key</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>operator</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>values</b></td>
<td>[]string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationcacertificates">CoreWaapService.spec.operation.caCertificates</h3>
<p><sup><sup><a href="#corewaapservicespecoperation">↩ Parent</a></sup></sup></p>
<p>CA Certificates for the pod, mounted at /etc/ssl/certs/ca-certificates.crt (default is to use the file from container)</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>configMap</b></td>
<td>string</td>
<td>
          Name of the config map that contains the CA certificates <br/>
</td>
<td>true</td>
</tr><tr>
<td><b>key</b></td>
<td>string</td>
<td>
          Key (as in 'YAML key/value pair') in the config map that contains the CA certificates <br/>
</td>
<td>true</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationmetrics">CoreWaapService.spec.operation.metrics</h3>
<p><sup><sup><a href="#corewaapservicespecoperation">↩ Parent</a></sup></sup></p>
<p>Settings for exposing Metrics endpoint as a Kubernetes service</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>enabled</b></td>
<td>boolean</td>
<td>
          Whether metrics sidecar is enabled or not <br/>
<br/>
<i>Default</i>: false<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>image</b></td>
<td>string</td>
<td>
          Metrics sidecar container image (host+path+name) without version, e.g. 'uspregistry.azurecr.io/usp/core/waap/usp-core-waap-metrics' (must be defined either in spec or operator defaults per traffic processor type) <br/>
</td>
<td>false</td>
</tr><tr>
<td><b>pollIntervalSeconds</b></td>
<td>integer</td>
<td>
          Interval (in seconds) between sending metrics requests to the Envoy and traffic processors <br/>
<br/>
<i>Default</i>: 60<br/>
<i>Minimum</i>: 1<br/>
<i>Maximum</i>: 86400<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>port</b></td>
<td>integer</td>
<td>
          Port of the metrics Kubernetes service <br/>
<br/>
<i>Default</i>: 9801<br/>
<i>Minimum</i>: 1<br/>
<i>Maximum</i>: 65535<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecoperationmetricsresources">resources</a></b></td>
<td>object</td>
<td>
          Kubernetes resources for the metrics sidecar container<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>version</b></td>
<td>string</td>
<td>
          Metrics sidecar container (image) version, e.g. '1.0.1' (must be defined either in spec or operator defaults per traffic processor type)<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationmetricsresources">CoreWaapService.spec.operation.metrics.resources</h3>
<p><sup><sup><a href="#corewaapservicespecoperationmetrics">↩ Parent</a></sup></sup></p>
<p>Kubernetes resources for the metrics sidecar container</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespecoperationmetricsresourcesclaimsindex">claims</a></b></td>
<td>[]object</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>limits</b></td>
<td>map[string]int or string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>requests</b></td>
<td>map[string]int or string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationmetricsresourcesclaimsindex">CoreWaapService.spec.operation.metrics.resources.claims[index]</h3>
<p><sup><sup><a href="#corewaapservicespecoperationmetricsresources">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>name</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationresources">CoreWaapService.spec.operation.resources</h3>
<p><sup><sup><a href="#corewaapservicespecoperation">↩ Parent</a></sup></sup></p>
<p>Kubernetes resources for the Core Waap pod</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespecoperationresourcesclaimsindex">claims</a></b></td>
<td>[]object</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>limits</b></td>
<td>map[string]int or string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>requests</b></td>
<td>map[string]int or string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationresourcesclaimsindex">CoreWaapService.spec.operation.resources.claims[index]</h3>
<p><sup><sup><a href="#corewaapservicespecoperationresources">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>name</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationserviceaccount">CoreWaapService.spec.operation.serviceAccount</h3>
<p><sup><sup><a href="#corewaapservicespecoperation">↩ Parent</a></sup></sup></p>
<p>Service account</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>automountToken</b></td>
<td>boolean</td>
<td>
          Whether to automount the token for the service account <br/>
<br/>
<i>Default</i>: true<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>name</b></td>
<td>string</td>
<td>
          Service account name <br/>
<br/>
<i>Default</i>: default<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationstartup">CoreWaapService.spec.operation.startup</h3>
<p><sup><sup><a href="#corewaapservicespecoperation">↩ Parent</a></sup></sup></p>
<p>Settings for Envoy startup (mostly command line options, see https://www.envoyproxy.io/docs/envoy/latest/operations/cli)</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>additionalCliArgs</b></td>
<td>string</td>
<td>
          Additional command line arguments for Envoy<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>componentLogLevel</b></td>
<td>string</td>
<td>
          Envoy log level per component in the form '{comp1}:{level1},{comp2}:{level2}', e.g. 'http:debug,connection:trace', if not set defaults implicitly to empty, command line option '--component-log-level'<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>concurrency</b></td>
<td>integer</td>
<td>
          The number of worker threads to run, if not set defaults implicitly to the number of hardware threads on the machine, command line option '--concurrency'<br/>
<br/>
<i>Minimum</i>: 1<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>logLevel</b></td>
<td>enum</td>
<td>
          Envoy global log level; if not set defaults implicitly to level info, command line option '--log-level'<br/>
<br/>
<i>Enum</i>: critical, debug, error, info, off, trace, warn, warning<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoperationtolerationsindex">CoreWaapService.spec.operation.tolerations[index]</h3>
<p><sup><sup><a href="#corewaapservicespecoperation">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>effect</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>key</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>operator</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>tolerationSeconds</b></td>
<td>integer</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>value</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecoriginblocking">CoreWaapService.spec.originBlocking</h3>
<p><sup><sup><a href="#corewaapservicespec">↩ Parent</a></sup></sup></p>
<p>Origin blocking</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>ips</b></td>
<td>[]string</td>
<td>
          Allowed or denied IP addresses (CIDR notation or single IP, e.g. 1.2.3.4/32 or 1.2.3.4) <br/>
</td>
<td>true</td>
</tr><tr>
<td><b>policy</b></td>
<td>enum</td>
<td>
          Policy (ALLOW or DENY access depending on origin) <br/>
<br/>
<i>Enum</i>: ALLOW, DENY<br/>
</td>
<td>true</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespectrafficprocessing">CoreWaapService.spec.trafficProcessing</h3>
<p><sup><sup><a href="#corewaapservicespec">↩ Parent</a></sup></sup></p>
<p>Traffic processing settings (e.g. for ICAP Anti-Virus scanning)</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespectrafficprocessingicapindex">icap</a></b></td>
<td>[]object</td>
<td>
          Traffic processing settings for type ICAP (Internet Content Adaptation Protocol); ICAP is typically used for Anti-Virus scanning of HTTP request bodies; currently only validation of the HTTP request body is supported (ICAP REQMOD) (no modifications to the scanned body, no validation of HTTP responses<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespectrafficprocessingopenapiindex">openapi</a></b></td>
<td>[]object</td>
<td>
          Traffic processing settings for type OPENAPI; OPENAPI is used for request/response validation against an OpenAPI schema<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespectrafficprocessingicapindex">CoreWaapService.spec.trafficProcessing.icap[index]</h3>
<p><sup><sup><a href="#corewaapservicespectrafficprocessing">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespectrafficprocessingicapindexconfig">config</a></b></td>
<td>object</td>
<td>
          Validation configuration for the sidecar<br/>
</td>
<td>true</td>
</tr><tr>
<td><b>name</b></td>
<td>string</td>
<td>
          Name to reference in routes under trafficProcessingRefs <br/>
</td>
<td>true</td>
</tr><tr>
<td><b><a href="#corewaapservicespectrafficprocessingicapindexextproc">extProc</a></b></td>
<td>object</td>
<td>
          External processing related settings, i.e. settings for the callout to the ICAP sidecar<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespectrafficprocessingicapindexoperation">operation</a></b></td>
<td>object</td>
<td>
          Operation related settings to be used for Kubernetes deployment of the respective traffic processing sidecar (optional, except that the operation's image/version fields must be set in the spec at 'trafficProcessing.{type}.operation' or via default in the operator config at 'waapSpecTrafficProcessingDefaults.{type}', where '{type}' is e.g. 'icap') [merge with operator defaults: config trees are merged in detail with precedence given to values in the spec]<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespectrafficprocessingicapindexconfig">CoreWaapService.spec.trafficProcessing.icap[index].config</h3>
<p><sup><sup><a href="#corewaapservicespectrafficprocessingicapindex">↩ Parent</a></sup></sup></p>
<p>Validation configuration for the sidecar</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>url</b></td>
<td>string</td>
<td>
          ICAP URL including protocol and port (e.g. 'icap://some.host:1344/some/path', use 'icaps://' for TLS)  <br/>
</td>
<td>true</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespectrafficprocessingicapindexextproc">CoreWaapService.spec.trafficProcessing.icap[index].extProc</h3>
<p><sup><sup><a href="#corewaapservicespectrafficprocessingicapindex">↩ Parent</a></sup></sup></p>
<p>External processing related settings, i.e. settings for the callout to the ICAP sidecar</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>additionalCliArgs</b></td>
<td>string</td>
<td>
          Additional command line arguments for the external service<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>messageTimeout</b></td>
<td>string</td>
<td>
          Message timeout for extProc callouts essentially in Kubernetes format (e.g. '30s', defaults to Envoy's default of 200ms)<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>transferMode</b></td>
<td>enum</td>
<td>
          Transfer mode (icap supports BUFFERED and STREAMED; openapi supports only BUFFERED); in BUFFERED mode body size is limited to operator.bufferLimitBytes, while in STREAMED mode, data is streamed in chunks, which, depending on the backend's specific implementation, might cause data to be processed or stored on the backend, even if validation fails in the end<br/>
<br/>
<i>Enum</i>: BUFFERED, STREAMED<br/>
<i>Default</i>: BUFFERED<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespectrafficprocessingicapindexoperation">CoreWaapService.spec.trafficProcessing.icap[index].operation</h3>
<p><sup><sup><a href="#corewaapservicespectrafficprocessingicapindex">↩ Parent</a></sup></sup></p>
<p>Operation related settings to be used for Kubernetes deployment of the respective traffic processing sidecar (optional, except that the operation's image/version fields must be set in the spec at 'trafficProcessing.{type}.operation' or via default in the operator config at 'waapSpecTrafficProcessingDefaults.{type}', where '{type}' is e.g. 'icap') [merge with operator defaults: config trees are merged in detail with precedence given to values in the spec]</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>image</b></td>
<td>string</td>
<td>
          Traffic processor sidecar container image (host+path+name) without version, e.g. 'uspregistry.azurecr.io/usp/core/waap/usp-core-waap-ext-proc-icap' (must be defined either in spec or operator defaults per traffic processor type) (DEPRECATED: for backwards compatibility, it is currently still allowed to append a version with ':' and omit a separate version field, but this is deprecated and existing config should be migrated)<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespectrafficprocessingicapindexoperationresources">resources</a></b></td>
<td>object</td>
<td>
          Kubernetes resources for the sidecar container<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>version</b></td>
<td>string</td>
<td>
          Traffic processor sidecar container (image) version, e.g. '1.0.1' (must be defined either in spec or operator defaults per traffic processor type)<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespectrafficprocessingicapindexoperationresources">CoreWaapService.spec.trafficProcessing.icap[index].operation.resources</h3>
<p><sup><sup><a href="#corewaapservicespectrafficprocessingicapindexoperation">↩ Parent</a></sup></sup></p>
<p>Kubernetes resources for the sidecar container</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespectrafficprocessingicapindexoperationresourcesclaimsindex">claims</a></b></td>
<td>[]object</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>limits</b></td>
<td>map[string]int or string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>requests</b></td>
<td>map[string]int or string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespectrafficprocessingicapindexoperationresourcesclaimsindex">CoreWaapService.spec.trafficProcessing.icap[index].operation.resources.claims[index]</h3>
<p><sup><sup><a href="#corewaapservicespectrafficprocessingicapindexoperationresources">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>name</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespectrafficprocessingopenapiindex">CoreWaapService.spec.trafficProcessing.openapi[index]</h3>
<p><sup><sup><a href="#corewaapservicespectrafficprocessing">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespectrafficprocessingopenapiindexconfig">config</a></b></td>
<td>object</td>
<td>
          Validation configuration for the sidecar<br/>
</td>
<td>true</td>
</tr><tr>
<td><b>name</b></td>
<td>string</td>
<td>
          Name to reference in routes under trafficProcessingRefs <br/>
</td>
<td>true</td>
</tr><tr>
<td><b><a href="#corewaapservicespectrafficprocessingopenapiindexextproc">extProc</a></b></td>
<td>object</td>
<td>
          External processing related settings, i.e. settings for the callout to the OpenAPI sidecar<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespectrafficprocessingopenapiindexoperation">operation</a></b></td>
<td>object</td>
<td>
          Operation related settings to be used for Kubernetes deployment of the respective traffic processing sidecar (optional, except that the operation's image/version fields must be set in the spec at 'trafficProcessing.{type}.operation' or via default in the operator config at 'waapSpecTrafficProcessingDefaults.{type}', where '{type}' is 'openapi') [merge with operator defaults: config trees are merged in detail with precedence given to values in the spec]<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespectrafficprocessingopenapiindexconfig">CoreWaapService.spec.trafficProcessing.openapi[index].config</h3>
<p><sup><sup><a href="#corewaapservicespectrafficprocessingopenapiindex">↩ Parent</a></sup></sup></p>
<p>Validation configuration for the sidecar</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespectrafficprocessingopenapiindexconfigschemasource">schemaSource</a></b></td>
<td>object</td>
<td>
          Source of the schema that will be used for validation <br/>
</td>
<td>true</td>
</tr><tr>
<td><b><a href="#corewaapservicespectrafficprocessingopenapiindexconfigscope">scope</a></b></td>
<td>object</td>
<td>
          Validation scope settings<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespectrafficprocessingopenapiindexconfigschemasource">CoreWaapService.spec.trafficProcessing.openapi[index].config.schemaSource</h3>
<p><sup><sup><a href="#corewaapservicespectrafficprocessingopenapiindexconfig">↩ Parent</a></sup></sup></p>
<p>Source of the schema that will be used for validation </p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>configMap</b></td>
<td>string</td>
<td>
          Name of the config map that contains the schema <br/>
</td>
<td>true</td>
</tr><tr>
<td><b>key</b></td>
<td>string</td>
<td>
          Key in the config map that contains the schema <br/>
</td>
<td>true</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespectrafficprocessingopenapiindexconfigscope">CoreWaapService.spec.trafficProcessing.openapi[index].config.scope</h3>
<p><sup><sup><a href="#corewaapservicespectrafficprocessingopenapiindexconfig">↩ Parent</a></sup></sup></p>
<p>Validation scope settings</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>logOnly</b></td>
<td>boolean</td>
<td>
          Indicates that validation won't fail, but only be logged <br/>
<br/>
<i>Default</i>: false<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>requestBody</b></td>
<td>boolean</td>
<td>
          Indicates that request body will be validated <br/>
<br/>
<i>Default</i>: true<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>responseBody</b></td>
<td>boolean</td>
<td>
          Indicates that response body will be validated <br/>
<br/>
<i>Default</i>: false<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespectrafficprocessingopenapiindexextproc">CoreWaapService.spec.trafficProcessing.openapi[index].extProc</h3>
<p><sup><sup><a href="#corewaapservicespectrafficprocessingopenapiindex">↩ Parent</a></sup></sup></p>
<p>External processing related settings, i.e. settings for the callout to the OpenAPI sidecar</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>additionalCliArgs</b></td>
<td>string</td>
<td>
          Additional command line arguments for the external service<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>messageTimeout</b></td>
<td>string</td>
<td>
          Message timeout for extProc callouts essentially in Kubernetes format (e.g. '30s', defaults to Envoy's default of 200ms)<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>transferMode</b></td>
<td>enum</td>
<td>
          Transfer mode (icap supports BUFFERED and STREAMED; openapi supports only BUFFERED); in BUFFERED mode body size is limited to operator.bufferLimitBytes, while in STREAMED mode, data is streamed in chunks, which, depending on the backend's specific implementation, might cause data to be processed or stored on the backend, even if validation fails in the end<br/>
<br/>
<i>Enum</i>: BUFFERED, STREAMED<br/>
<i>Default</i>: BUFFERED<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespectrafficprocessingopenapiindexoperation">CoreWaapService.spec.trafficProcessing.openapi[index].operation</h3>
<p><sup><sup><a href="#corewaapservicespectrafficprocessingopenapiindex">↩ Parent</a></sup></sup></p>
<p>Operation related settings to be used for Kubernetes deployment of the respective traffic processing sidecar (optional, except that the operation's image/version fields must be set in the spec at 'trafficProcessing.{type}.operation' or via default in the operator config at 'waapSpecTrafficProcessingDefaults.{type}', where '{type}' is 'openapi') [merge with operator defaults: config trees are merged in detail with precedence given to values in the spec]</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>image</b></td>
<td>string</td>
<td>
          Traffic processor sidecar container image (host+path+name) without version, e.g. 'uspregistry.azurecr.io/usp/core/waap/usp-core-waap-ext-proc-icap' (must be defined either in spec or operator defaults per traffic processor type) (DEPRECATED: for backwards compatibility, it is currently still allowed to append a version with ':' and omit a separate version field, but this is deprecated and existing config should be migrated)<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespectrafficprocessingopenapiindexoperationresources">resources</a></b></td>
<td>object</td>
<td>
          Kubernetes resources for the sidecar container<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>version</b></td>
<td>string</td>
<td>
          Traffic processor sidecar container (image) version, e.g. '1.0.1' (must be defined either in spec or operator defaults per traffic processor type)<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespectrafficprocessingopenapiindexoperationresources">CoreWaapService.spec.trafficProcessing.openapi[index].operation.resources</h3>
<p><sup><sup><a href="#corewaapservicespectrafficprocessingopenapiindexoperation">↩ Parent</a></sup></sup></p>
<p>Kubernetes resources for the sidecar container</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b><a href="#corewaapservicespectrafficprocessingopenapiindexoperationresourcesclaimsindex">claims</a></b></td>
<td>[]object</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>limits</b></td>
<td>map[string]int or string</td>
<td>
<br/>
</td>
<td>false</td>
</tr><tr>
<td><b>requests</b></td>
<td>map[string]int or string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespectrafficprocessingopenapiindexoperationresourcesclaimsindex">CoreWaapService.spec.trafficProcessing.openapi[index].operation.resources.claims[index]</h3>
<p><sup><sup><a href="#corewaapservicespectrafficprocessingopenapiindexoperationresources">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>name</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecwebresources">CoreWaapService.spec.webResources</h3>
<p><sup><sup><a href="#corewaapservicespec">↩ Parent</a></sup></sup></p>
<p>Resources from a config map to serve as static files and/or to map status codes to error pages with dynamic content</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>configMap</b></td>
<td>string</td>
<td>
          Name of the config map that contains the web resources <br/>
</td>
<td>true</td>
</tr><tr>
<td><b>path</b></td>
<td>string</td>
<td>
          Path where static pages will be served (must begin and end with /) <br/>
</td>
<td>true</td>
</tr><tr>
<td><b><a href="#corewaapservicespecwebresourceserrorpagesindex">errorPages</a></b></td>
<td>[]object</td>
<td>
          List of error pages to serve (allows dynamic content, e.g. %PROTOCOL%)<br/>
</td>
<td>false</td>
</tr><tr>
<td><b><a href="#corewaapservicespecwebresourcesstaticfilesindex">staticFiles</a></b></td>
<td>[]object</td>
<td>
          List of static file resources to serve (no dynamic content)<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecwebresourceserrorpagesindex">CoreWaapService.spec.webResources.errorPages[index]</h3>
<p><sup><sup><a href="#corewaapservicespecwebresources">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>key</b></td>
<td>string</td>
<td>
          Key in the config map, used as filename (Content-Type guessed from filename, encoding utf-8 for text/*) <br/>
</td>
<td>true</td>
</tr><tr>
<td><b>statusCode</b></td>
<td>string</td>
<td>
          Status code to apply to (also allows to e.g. use '4xx' for all client errors 400-499) <br/>
</td>
<td>true</td>
</tr><tr>
<td><b>mappedStatusCode</b></td>
<td>integer</td>
<td>
          Status code to send to client (defaults to upstream status code)<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
<h3 id="corewaapservicespecwebresourcesstaticfilesindex">CoreWaapService.spec.webResources.staticFiles[index]</h3>
<p><sup><sup><a href="#corewaapservicespecwebresources">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>key</b></td>
<td>string</td>
<td>
          Key in the config map, used as filename (Content-Type guessed from filename, encoding utf-8 for text/*) <br/>
</td>
<td>true</td>
</tr></tbody>
</table>
<h3 id="corewaapservicestatus">CoreWaapService.status</h3>
<p><sup><sup><a href="#corewaapservice">↩ Parent</a></sup></sup></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody><tr>
<td><b>status</b></td>
<td>string</td>
<td>
<br/>
</td>
<td>false</td>
</tr></tbody>
</table>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="../assets/javascripts/bundle.f1b6f286.min.js"></script>
<script>document$.subscribe(() => {
            window.update_swagger_ui_iframe_height = function (id) {
                var iFrameID = document.getElementById(id);
                if (iFrameID) {
                    full_height = (iFrameID.contentWindow.document.body.scrollHeight + 80) + "px";
                    iFrameID.height = full_height;
                    iFrameID.style.height = full_height;
                }
            }
        
            let iframe_id_list = []
            var iframes = document.getElementsByClassName("swagger-ui-iframe");
            for (var i = 0; i < iframes.length; i++) { 
                iframe_id_list.push(iframes[i].getAttribute("id"))
            }
        
            let ticking = true;
            
            document.addEventListener('scroll', function(e) {
                if (!ticking) {
                    window.requestAnimationFrame(()=> {
                        let half_vh = window.innerHeight/2;
                        for(var i = 0; i < iframe_id_list.length; i++) {
                            let element = document.getElementById(iframe_id_list[i])
                            if(element==null){
                                return
                            }
                            let diff = element.getBoundingClientRect().top
                            if(element.contentWindow.update_top_val){
                                element.contentWindow.update_top_val(half_vh - diff)
                            }
                        }
                        ticking = false;
                    });
                    ticking = true;
                }
            });
        
            const dark_scheme_name = "slate"
            
            window.scheme = document.body.getAttribute("data-md-color-scheme")
            const options = {
                attributeFilter: ['data-md-color-scheme'],
            };
            function color_scheme_callback(mutations) {
                for (let mutation of mutations) {
                    if (mutation.attributeName === "data-md-color-scheme") {
                        scheme = document.body.getAttribute("data-md-color-scheme")
                        var iframe_list = document.getElementsByClassName("swagger-ui-iframe")
                        for(var i = 0; i < iframe_list.length; i++) {
                            var ele = iframe_list.item(i);
                            if (ele) {
                                if (scheme === dark_scheme_name) {
                                    ele.contentWindow.enable_dark_mode();
                                } else {
                                    ele.contentWindow.disable_dark_mode();
                                }
                            }
                        }
                    }
                }
            }
            observer = new MutationObserver(color_scheme_callback);
            observer.observe(document.body, options);
            })</script></body>
</html>